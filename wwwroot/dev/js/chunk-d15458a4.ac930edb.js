(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d15458a4"],{"0293":function(t,e,n){var i=n("241e"),r=n("53e2");n("ce7e")("getPrototypeOf",(function(){return function(t){return r(i(t))}}))},"061b":function(t,e,n){t.exports=n("fa99")},"0991":function(t,e,n){},1160:function(t,e,n){"use strict";var i=n("e0ee"),r=n.n(i);r.a},1771:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));n("6b54");var i=n("d225"),r=n("b0b4"),o=n("a374"),s=n("978d"),a=n("b7c5"),h=n("662f"),u=n("1fb1"),c=n("8500"),l=function(){function t(){Object(i["a"])(this,t),this._id=-1,this._selectionAdorner=null}return Object(r["a"])(t,[{key:"PointToSurface",value:function(t){var e=t.X,n=t.Y,i=this;while(null!=i)e+=i.Bounds.X,n+=i.Bounds.Y,i=i.Parent;return new s["a"](e,n)}},{key:"PointToClient",value:function(t){var e=this.PointToSurface(new s["a"](0,0));return new s["a"](t.X-e.X,t.Y-e.Y)}},{key:"Move",value:function(t,e){if(0!==(this.Behavior&c["a"].CanMove)){var n=Math.round(t),i=Math.round(e);if(0!==n||0!==i){if(null!=this.Parent){var r=new o["a"](this.Bounds.X+n,this.Bounds.Y+i,this.Bounds.Width,this.Bounds.Height);if(r.Y+10>=this.Parent.Bounds.Height)return;if(r.X+10>=this.Parent.Bounds.Width)return;if(r.X+r.Width<=10)return;if(r.Y+r.Height<=10)return}this.SetBounds(this.Bounds.X+n,this.Bounds.Y+i,this.Bounds.Width,this.Bounds.Height,a["a"].Location)}}}},{key:"OnEndMove",value:function(){0!==(this.Behavior&c["a"].CanMove)&&this.Surface&&this.Surface.DesignService&&this.Surface.DesignService.ChangeProperty(this,"Move",this.Bounds.X,this.Bounds.Y)}},{key:"Resize",value:function(t,e,n){if(this.Behavior&c["a"].CanResize){var i=Math.round(e),r=Math.round(n);if(0!==i||0!==r){var s=new o["a"](this.Bounds.X,this.Bounds.Y,this.Bounds.Width,this.Bounds.Height),h=a["a"].All;switch(t){case u["a"].LeftTop:if(s.Height-r<=0||s.Width-i<=0)break;s.X+=i,s.Y+=r,s.Width-=i,s.Height-=r;break;case u["a"].LeftCenter:if(s.Width-i<=0)break;s.X+=i,s.Width-=i;break;case u["a"].LeftBottom:if(s.Height+r<=0||s.Width-i<=0)break;s.X+=i,s.Width-=i,s.Height+=r;break;case u["a"].RightTop:if(s.Height-r<=0||s.Width+i<=0)break;s.Y+=r,s.Width+=i,s.Height-=r;break;case u["a"].RightCenter:if(s.Width+i<=0)break;s.Width+=i;break;case u["a"].RightBottom:if(s.Height+r<=0||s.Width+i<=0)break;s.Width+=i,s.Height+=r;break;case u["a"].TopCenter:if(s.Height-r<=0)break;s.Y+=r,s.Height-=r,h=a["a"].Height;break;case u["a"].BottomCenter:if(s.Height+r<=0)break;s.Height+=r,h=a["a"].Height;break;default:break}this.SetBounds(s.X,s.Y,s.Width,s.Height,h)}}}},{key:"OnEndResize",value:function(){this.Behavior&c["a"].CanResize&&this.Surface&&this.Surface.DesignService&&this.Surface.DesignService.ChangeProperty(this,"Resize",this.Bounds.Width,this.Bounds.Height)}},{key:"OnAddToSurface",value:function(){}},{key:"OnRemoveFromSurface",value:function(){}},{key:"Invalidate",value:function(){if(this.Surface){var t=this.PointToSurface(new s["a"](0,0)),e=new o["a"](t.X,t.Y,this.Bounds.Width,this.Bounds.Height);this.Surface.Invalidate(e)}}},{key:"InvalidateOnBoundsChanged",value:function(t){if(this.Surface){var e=null==this.Parent?new s["a"](0,0):this.Parent.PointToSurface(new s["a"](0,0)),n=o["a"].Union(t,this.Bounds);n.X+=e.X,n.Y+=e.Y,this.Surface.Invalidate(n)}}},{key:"PreviewMouseDown",value:function(t){return!1}},{key:"HitTest",value:function(t,e,n){return t>=0&&t<=this.Bounds.Width&&e>=0&&e<=this.Bounds.Height}},{key:"AddItem",value:function(t){if(!this.IsContainer)throw new Error("非容器元素不能添加子元素");t.Parent=this,this._items||(this._items=new Array),this._items.push(t),t.OnAddToSurface(),this.Invalidate()}},{key:"RemoveItem",value:function(t){if(!this.IsContainer)throw new Error("非容器元素不能删除子元素");t.OnRemoveFromSurface(),t.Parent=null;var e=this._items.indexOf(t);this._items.splice(e,1),this.Invalidate()}},{key:"FindHoverItem",value:function(t,e){var n=null;if(this._items)for(var i=0;i<this._items.length;i++){var r=this._items[i],o=t.X-r.Bounds.X,a=t.Y-r.Bounds.Y;r.Visible&&r.HitTest(o,a,e)&&(n=r,n.IsContainer&&(n=n.FindHoverItem(new s["a"](o,a),e)))}return null==n?this:n}},{key:"Fetch",value:function(t){}},{key:"getPropertyItems",value:function(){return null}},{key:"getPropertyOwnerType",value:function(){var t=/function (.{1,})\(/,e=t.exec(this.constructor.toString());return e&&e.length>1?e[1]:""}},{key:"ID",get:function(){return this._id}},{key:"Behavior",get:function(){return c["a"].CanMove|c["a"].CanResize}},{key:"Surface",get:function(){return this.Parent?this.Parent.Surface:this._surface},set:function(t){this._surface=t}},{key:"Visible",get:function(){return!0}},{key:"IsContainer",get:function(){return!1}},{key:"Items",get:function(){return this._items}},{key:"SelectionAdorner",get:function(){return!this._selectionAdorner&&this.Surface&&(this._selectionAdorner=new h["a"](this.Surface.Adorners,this)),this._selectionAdorner}},{key:"Location",get:function(){return new s["a"](this.Bounds.X,this.Bounds.Y)},set:function(t){this.SetBounds(t.X,t.Y,this.Bounds.Width,this.Bounds.Height,a["a"].Location)}}]),t}()},"1cb7":function(t,e,n){var i=n("bf0b"),r=n("53e2"),o=n("07e3"),s=n("63b6"),a=n("f772"),h=n("e4ae");function u(t,e){var n,s,c=arguments.length<3?t:arguments[2];return h(t)===c?t[e]:(n=i.f(t,e))?o(n,"value")?n.value:void 0!==n.get?n.get.call(c):void 0:a(s=r(t))?u(s,e,c):void 0}s(s.S,"Reflect",{get:u})},"1df8":function(t,e,n){var i=n("63b6");i(i.S,"Object",{setPrototypeOf:n("ead6").set})},"1fb1":function(t,e,n){"use strict";var i;(function(t){t[t["None"]=0]="None",t[t["LeftTop"]=1]="LeftTop",t[t["LeftCenter"]=2]="LeftCenter",t[t["LeftBottom"]=3]="LeftBottom",t[t["TopCenter"]=4]="TopCenter",t[t["BottomCenter"]=5]="BottomCenter",t[t["RightTop"]=6]="RightTop",t[t["RightCenter"]=7]="RightCenter",t[t["RightBottom"]=8]="RightBottom"})(i||(i={})),e["a"]=i},"25b0":function(t,e,n){n("1df8"),t.exports=n("584a").Object.setPrototypeOf},"268f":function(t,e,n){t.exports=n("fde4")},"2a88":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n("268f"),r=n.n(i),o=n("8feb"),s=n.n(o),a=n("6bb5");function h(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=Object(a["a"])(t),null===t)break;return t}function u(t,e,n){return u="undefined"!==typeof Reflect&&s.a?s.a:function(t,e,n){var i=h(t,e);if(i){var o=r()(i,e);return o.get?o.get.call(n):o.value}},u(t,e,n||t)}},"2de8":function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var i=n("d225"),r=n("b0b4"),o=n("308d"),s=n("6bb5"),a=n("4e2b"),h=n("662f"),u=n("a374"),c=n("b7c5"),l=n("8500"),f=n("fe34"),d=n("ffb8"),v=function(t){function e(t){var n;Object(i["a"])(this,e),n=Object(o["a"])(this,Object(s["a"])(e).call(this,t)),n._bounds=new u["a"](0,0,0,0);var r=n.GetNamedChildNode("Left");r&&(n._bounds.X=n.GetSize(r));var a=n.GetNamedChildNode("Top");a&&(n._bounds.Y=n.GetSize(a));var h=n.GetNamedChildNode("Width");h&&(n._bounds.Width=n.GetSize(h));var c=n.GetNamedChildNode("Height");return c&&(n._bounds.Height=n.GetSize(c)),n}return Object(a["a"])(e,t),Object(r["a"])(e,[{key:"SetBounds",value:function(t,e,n,i,r){if(!this.IsTableCell){var o=new u["a"](this._bounds.X,this._bounds.Y,this._bounds.Width,this._bounds.Height);r&c["a"].X&&(this._bounds.X=t),r&c["a"].Y&&(this._bounds.Y=e),r&c["a"].Width&&(this._bounds.Width=n),r&c["a"].Height&&(this._bounds.Height=i),this.InvalidateOnBoundsChanged(o)}}},{key:"OnEndMove",value:function(){this.SetPropertyRSize("Left",this.Bounds.X),this.SetPropertyRSize("Top",this.Bounds.Y),this.Surface&&(this.Surface.PropertyPanel.refreshProperty("Left"),this.Surface.PropertyPanel.refreshProperty("Top"))}},{key:"OnEndResize",value:function(){this.SetPropertyRSize("Width",this.Bounds.Width),this.SetPropertyRSize("Height",this.Bounds.Height),this.Surface&&(this.Surface.PropertyPanel.refreshProperty("Width"),this.Surface.PropertyPanel.refreshProperty("Height"))}},{key:"PreviewMouseDown",value:function(t){if(t.Button==f["a"].Left&&this.IsTableCell){if(null==this.Parent)return!1;var e=this.Parent;null!=e&&e.BeginCellSelection(t.X,t.Y)}return!1}},{key:"getPropertyItems",value:function(){var t=this,e=[{name:"Layout",items:[{title:"Left",readonly:!1,editorType:"TextBox",getter:function(){return t.GetPropertyRSize("Left","0mm")},setter:function(e){return t.SetPropertyRSize("Left",e)}},{title:"Top",readonly:!1,editorType:"TextBox",getter:function(){return t.GetPropertyRSize("Top","0mm")},setter:function(e){return t.SetPropertyRSize("Top",e)}},{title:"Width",readonly:!1,editorType:"TextBox",getter:function(){return t.GetPropertyRSize("Width","20mm")},setter:function(e){return t.SetPropertyRSize("Width",e)}},{title:"Height",readonly:!1,editorType:"TextBox",getter:function(){return t.GetPropertyRSize("Height","10mm")},setter:function(e){return t.SetPropertyRSize("Height",e)}}]}];return e}},{key:"IsTableCell",get:function(){return null!=this._cell}},{key:"Cell",get:function(){return this._cell}},{key:"SelectionAdorner",get:function(){if(this.IsTableCell){var t=this.Parent;return t.CellSelectionAdorner}return!this._selectionAdorner&&this.Surface&&(this._selectionAdorner=new h["a"](this.Surface.Adorners,this)),this._selectionAdorner}},{key:"Behavior",get:function(){return this.IsTableCell?l["a"].None:l["a"].CanMove|l["a"].CanResize}},{key:"Bounds",get:function(){return this._bounds},set:function(t){this.SetBounds(t.X,t.Y,t.Width,t.Height,c["a"].All)}}]),e}(d["a"])},"2f49":function(t,e,n){"use strict";n.d(e,"a",(function(){return I}));n("6c7b"),n("c5f6");var i,r=n("d225"),o=n("b0b4"),s=n("308d"),a=n("6bb5"),h=n("4e2b"),u=n("a374"),c=n("978d"),l=n("1771"),f=n("3458"),d=function(){function t(){Object(r["a"])(this,t),this.Figures=new Array}return Object(o["a"])(t,[{key:"CreatePath",value:function(){var t=new Path2D,e=this.Figures[0];return e.FillToPath(t),t}}]),t}();(function(t){t[t["EvenOdd"]=0]="EvenOdd",t[t["Nonzero"]=1]="Nonzero"})(i||(i={}));var v,g=function(){function t(){Object(r["a"])(this,t)}return Object(o["a"])(t,[{key:"FillToPath",value:function(t){t.lineTo(this.Point.X,this.Point.Y)}}]),t}(),y=function(){function t(){Object(r["a"])(this,t),this.IsClosed=!1,this.IsFilled=!0,this.StartPoint=new c["a"](0,0),this.Segments=new Array}return Object(o["a"])(t,[{key:"FillToPath",value:function(t){t.moveTo(this.StartPoint.X,this.StartPoint.Y);for(var e=0;e<this.Segments.length;e++){var n=this.Segments[e];n.FillToPath(t)}}},{key:"Fetch",value:function(t){this.StartPoint=t.StartPoint;for(var e=0;e<t.Segments.length;e++){var n=t.Segments[e];if(1!==n.Type)throw new Error("Not implemented.");var i=new g;i.Point=n.Point,this.Segments.push(i)}}}]),t}();(function(t){t[t["Polyline"]=0]="Polyline",t[t["Bezier"]=1]="Bezier",t[t["Spline"]=2]="Spline"})(v||(v={}));var S,p=v,m=n("fe0c"),C=(n("ac4d"),n("8a81"),n("ac6a"),function(){function t(){Object(r["a"])(this,t)}return Object(o["a"])(t,null,[{key:"GetConnectorsBounds",value:function(t){if(!t||0==t.Connectors.length)return new u["a"](0,0,0,0);var e=Number.MAX_VALUE,n=Number.MAX_VALUE,i=Number.MIN_VALUE,r=Number.MIN_VALUE,o=!0,s=!1,a=void 0;try{for(var h,c=t.Connectors[Symbol.iterator]();!(o=(h=c.next()).done);o=!0){var l=h.value,f=l.AbsolutePosition;e=Math.min(e,f.X),n=Math.min(n,f.Y),i=Math.max(i,f.X),r=Math.max(r,f.Y)}}catch(d){s=!0,a=d}finally{try{o||null==c.return||c.return()}finally{if(s)throw a}}return new u["a"](e,n,i-e,r-n)}},{key:"GetNearestConnector2",value:function(t,e){return null!=t?this.GetNearestConnector(t,e,Number.MAX_VALUE):null}},{key:"GetNearestConnector",value:function(t,e,n){return console.log("GetNearestConnector todo ..."),null}}]),t}()),b=5,P=5,_=function(){function t(){Object(r["a"])(this,t)}return Object(o["a"])(t,null,[{key:"ActivateNearestConnector",value:function(t,e,n,i){var r=t.DesignService.GetShapes();if(0!==r.length){for(var o=new Array,s=0;s<r.length;s++){var a=C.GetConnectorsBounds(r[s]);a.Inflate(b,b),a.Contains(i.X,i.Y)&&r[s].CanConnect(n,e)&&o.push(r[s])}if(o.length>0)for(s=o.length-1;s>=0;s--)for(var h=o[s],u=0;u<h.Connectors.length;u++){var l=c["a"].Distance(h.Connectors[u].AbsolutePosition,i);if(l<b&&l<P)return void(t.Adorners.ActiveConnector=h.Connectors[u])}t.Adorners.UpdateNearestShapes(o)}}}]),t}();(function(t){t[t["Intermediate"]=0]="Intermediate",t[t["First"]=1]="First",t[t["Last"]=2]="Last"})(S||(S={}));var k=S,w=function t(){Object(r["a"])(this,t)},T=function(t){function e(t,n){var i;return Object(r["a"])(this,e),i=Object(s["a"])(this,Object(a["a"])(e).call(this,t,n)),i._pointSize=6,i._moveDeltaX=0,i._moveDeltaY=0,i}return Object(h["a"])(e,t),Object(o["a"])(e,[{key:"ResetCache",value:function(){this._pointsCache=null}},{key:"GetEditPoints",value:function(){if(null!=this._pointsCache)return this._pointsCache;var t=this.Target,e=t.Bounds.X,n=t.Bounds.Y,i=new Array,r=t.StartPoint,o=new u["a"](r.X-e-this._pointSize/2,r.Y-n-this._pointSize/2,this._pointSize,this._pointSize),s=new w;s.Type=k.First,s.Rect=o,s.Index=0,i.push(s);var a=t.EndPoint;return o=new u["a"](a.X-e-this._pointSize/2,a.Y-n-this._pointSize/2,this._pointSize,this._pointSize),s=new w,s.Type=k.Last,s.Rect=o,s.Index=i.length,i.push(s),this._pointsCache=i,i}},{key:"HitTest",value:function(t){for(var e=this.GetEditPoints(),n=0;n<e.length;n++)if(e[n].Rect.Contains(t.X,t.Y))return this._hitPoint=e[n],[!0,""];return this._hitPoint=null,[!1,""]}},{key:"OnMouseMove",value:function(t){if(this._hitPoint){var e=this.Target;this._moveDeltaX+=t.DeltaX,this._moveDeltaY+=t.DeltaY,this._hitPoint.Type!=k.First&&this._hitPoint.Type!=k.Last||e.Surface&&_.ActivateNearestConnector(e.Surface,e,this._hitPoint.Type==k.First,new c["a"](t.X,t.Y)),this.Owner.Invalidate()}}},{key:"OnMouseUp",value:function(t){this._moveDeltaX=0,this._moveDeltaY=0}},{key:"OnRender",value:function(t){for(var e=this.GetEditPoints(),n=0;n<e.length;n++)this.DrawEditPoint(t,e[n].Rect);if(this._hitPoint&&(0!==this._moveDeltaX||0!==this._moveDeltaY)){var i=this.Target,r=i.PointToSurface(new c["a"](0,0));t.setLineDash([4,4]),t.strokeStyle="blue",t.lineWidth=1.5,this._hitPoint.Type===k.First?(t.beginPath(),t.moveTo(i.StartPoint.X-r.X+this._moveDeltaX,i.StartPoint.Y-r.Y+this._moveDeltaY),t.lineTo(i.EndPoint.X-r.X,i.EndPoint.Y-r.Y),t.stroke()):this._hitPoint.Type===k.Last&&(t.beginPath(),t.moveTo(i.StartPoint.X-r.X,i.StartPoint.Y-r.Y),t.lineTo(i.EndPoint.X+this._moveDeltaX-r.X,i.EndPoint.Y+this._moveDeltaY-r.Y),t.stroke()),t.setLineDash([])}}},{key:"DrawEditPoint",value:function(t,e){t.fillStyle="white",t.fillRect(e.X,e.Y,e.Width,e.Height),t.strokeStyle="black",t.lineWidth=1,t.strokeRect(e.X,e.Y,e.Width,e.Height)}},{key:"ActiveEditPoint",get:function(){return this._hitPoint}}]),e}(m["a"]),O=function(){function t(){Object(r["a"])(this,t)}return Object(o["a"])(t,null,[{key:"CreateByTwoPoint",value:function(t,e){var n=new u["a"](0,0,0,0);return n.X=Math.min(t.X,e.X),n.Y=Math.min(t.Y,e.Y),n.Width=Math.max(Math.max(t.X,e.X)-n.X,0),n.Height=Math.max(Math.max(t.Y,e.Y)-n.Y,0),n}}]),t}(),I=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(s["a"])(this,Object(a["a"])(e).call(this)),t.ConnectionPoints=new Array,t.isDirty=!1,t.edittingPoint=new c["a"](0,0),t.connectionPoints=new Array,t.startPoint=new c["a"](0,0),t.endPoint=new c["a"](0,0),t}return Object(h["a"])(e,t),Object(o["a"])(e,[{key:"OnSourceChanged",value:function(t){this.isSuppressingConnectionUpdate||this.ResolveSourceConnector()}},{key:"Invalidate",value:function(){this.Surface&&this.Surface.Invalidate()}},{key:"HitTest",value:function(t,e,n){if(this.Surface){n.lineWidth=4;var i=this.EnsureGeometryPath();if(i)return n.isPointInStroke(i,t*this.Surface.PixelRatio,e*this.Surface.PixelRatio)}return!1}},{key:"EnsureGeometryPath",value:function(){return this._cachedPath||this.geometry&&(this._cachedPath=this.geometry.CreatePath()),this._cachedPath}},{key:"UpdateGeometryPoint",value:function(t,e){if(0==t)this.StartPoint=e;else if(t==this.ConnectionPoints.length+1)this.EndPoint=e;else{this.ConnectionPoints[t-1];this.ConnectionPoints[t-1]=e}this.Update(!1)}},{key:"Update",value:function(t){if(!this.isSuppressingConnectionUpdate){var e=t&&this.Source!=this.Target;this.isDirty||!e?(e||this.CalculateAutoConnectors(!0,!0),this.isDirty=!1):e&&(this.isDirty=!0),null!=this.Parent?this.Parent.Invalidate():null!=this.Surface&&this.Surface.Invalidate()}}},{key:"GetNearestConnector2",value:function(t,e,n){return null}},{key:"GetNearestConnector",value:function(t,e){if(null!=t){var n=new Array;return n.push(t),this.GetNearestConnector2(n,e,Number.MAX_VALUE)}return null}},{key:"CalculateAutoConnectors",value:function(t,e){var n,i;if(t&&null!=this.Source&&this.SourceConnectorPosition==f["a"].Auto&&(n=this.ConnectionPoints.length>0&&this.ConnectionType!=p.Bezier?this.ConnectionPoints[0]:null==this.Target?this.endPoint:new c["a"](this.Target.Bounds.X+this.Target.Bounds.Width/2,this.Target.Bounds.Y+this.Target.Bounds.Height/2),this.SourceConnectorResult=this.GetNearestConnector(this.Source,n),null==this.SourceConnectorResult))for(var r=0;r<this.Source.Connectors.length;r++)if(this.Source.Connectors[r].Name==f["a"].Auto){this.SourceConnectorResult=this.Source.Connectors[r];break}if(e&&null!=this.Target&&this.TargetConnectorPosition==f["a"].Auto&&(i=this.ConnectionPoints.length>0&&this.ConnectionType!=p.Bezier?this.ConnectionPoints[this.ConnectionPoints.length-1]:null==this.Source?this.endPoint:new c["a"](this.Source.Bounds.X+this.Source.Bounds.Width/2,this.Source.Bounds.Y+this.Source.Bounds.Height/2),this.TargetConnectorResult=this.GetNearestConnector(this.Target,i),null==this.TargetConnectorResult))for(r=0;r<this.Target.Connectors.length;r++)if(this.Target.Connectors[r].Name==f["a"].Auto){this.SourceConnectorResult=this.Target.Connectors[r];break}}},{key:"TranslateConnectionPoints",value:function(t){for(var e=new Array,n=0;n<this.ConnectionPoints.length;n++)e.push(t?new c["a"](this.ConnectionPoints[n].X+this.Position.X,this.ConnectionPoints[n].Y+this.Position.Y):new c["a"](this.ConnectionPoints[n].X-this.Position.X,this.ConnectionPoints[n].Y-this.Position.Y));return e}},{key:"SetPosition",value:function(t){this.isInnerChange=!0,this.Position=t,this.isInnerChange=!1}},{key:"SetBounds",value:function(t,e,n,i,r){}},{key:"AllPoints",value:function(){var t=new Array;t.push(this.StartPoint);for(var e=0;e<this.ConnectionPoints.length;e++)t.push(this.ConnectionPoints[e]);return t.push(this.EndPoint),t}},{key:"Paint",value:function(t){this.DrawConnectionLine(t,!1),this.DrawConnectionCap(t,this.targetCap),this.DrawConnectionCap(t,this.sourceCap),this.DrawConnectionText(t)}},{key:"DrawConnectionCap",value:function(t,e){if(e){var n=new Path2D;e.FillToPath(n),t.fillStyle="black",t.fill(n)}}},{key:"DrawConnectionLine",value:function(t,e){var n=this.EnsureGeometryPath();n&&(t.strokeStyle="green",t.lineWidth=1.5,t.stroke(n))}},{key:"DrawConnectionText",value:function(t){if(this.title){var e=t.measureText(this.title),n=new u["a"](this.edittingPoint.X+.5,this.edittingPoint.Y,e.width,12);t.fillStyle="white",t.fillRect(n.X,n.Y,n.Width,n.Height),t.fillStyle="black",t.textBaseline="top",t.fillText(this.title,this.edittingPoint.X,this.edittingPoint.Y)}}},{key:"OnTargetChanged",value:function(t){this.isSuppressingConnectionUpdate||this.ResolveTargetConnector()}},{key:"ResolveTargetConnector",value:function(){if(null!=this.Target){if(0==this.Target.Connectors.length)return void console.log("Shape Has No Connectors");if(this.TargetConnectorPosition!=f["a"].Auto){var t=0;for(t=0;t<this.Target.Connectors.length;t++)if(this.Target.Connectors[t].Name==this.TargetConnectorPosition){this.TargetConnectorResult=this.Target.Connectors[t];break}null==this.TargetConnectorResult&&console.log("Connector Doesnt Exist: "+this.TargetConnectorResult)}}else this.TargetConnectorResult=null}},{key:"OnTargetConnectorPositionChanged",value:function(t,e){this.ResolveTargetConnector(),this.Update(!1)}},{key:"ResolveSourceConnector",value:function(){if(null!=this.Source){if(0==this.Source.Connectors.length)return void console.log("Shape Has No Connectors");if(this.SourceConnectorPosition!=f["a"].Auto){var t;for(t=0;t<this.Source.Connectors.length;t++)if(this.Source.Connectors[t].Name==this.SourceConnectorPosition){this.SourceConnectorResult=this.Source.Connectors[t];break}null==this.SourceConnectorResult&&console.log("Connector Doesnt Exist:"+this.SourceConnectorPosition)}}else this.SourceConnectorResult=null}},{key:"OnSourceConnectorPositionChanged",value:function(t,e){this.ResolveSourceConnector(),this.Update(!1)}},{key:"GetConnectionEndPoints",value:function(t){var e=new c["a"](this.StartPoint.X,this.StartPoint.Y),n=new c["a"](this.EndPoint.X,this.EndPoint.Y);return t&&(e=new c["a"](e.X-this.Bounds.X,e.Y-this.Bounds.Y),n=new c["a"](n.X-this.Bounds.X,n.Y-this.Bounds.Y)),[e,n]}},{key:"Distance",value:function(t,e){return Math.sqrt(Math.pow(t.X-e.X,2)+Math.pow(t.Y-e.Y,2))}},{key:"CalculateMiddlePointOfLine",value:function(t,e){var n=new Array;n.push(t[0]);for(var i=0;i<e.length;i++)n[1+i]=e[i];n.push(t[1]);var r=0;for(i=0;i<n.length;i++){var o=n[i],s=n[i+(i+1<n.length?1:0)];r+=this.Distance(o,s)}var a=0;for(i=0;i<n.length;i++){o=n[i],s=n[i+(i+1<n.length?1:0)];var h=this.Distance(o,s);if(a+=h,a>=r/2){var u=a-r/2,l=u*Math.abs(o.X-s.X)/h,f=u*Math.abs(o.Y-s.Y)/h;l=s.X-o.X>0?-l:l,f=s.Y-o.Y>0?-f:f;var d=new c["a"](s.X+l,s.Y+f);if(Number.NaN!=d.X&&Number.NaN!=d.Y)return d}}return new c["a"](0,0)}},{key:"Fetch",value:function(t){this._id=t.ID,this.startPoint.X=t.StartPoint.X,this.startPoint.Y=t.StartPoint.Y,this.endPoint.X=t.EndPoint.X,this.endPoint.Y=t.EndPoint.Y,this.edittingPoint.X=t.EdittingPoint.X,this.edittingPoint.Y=t.EdittingPoint.Y,t.Title&&(this.title=t.Title),t.SourceCap&&(this.sourceCap=new y,this.sourceCap.Fetch(t.SourceCap)),t.TargetCap&&(this.targetCap=new y,this.targetCap.Fetch(t.TargetCap));for(var e=new d,n=0;n<t.Geometry.Figures.length;n++){var i=t.Geometry.Figures[n],r=new y;r.Fetch(i),e.Figures.push(r)}if(this.Geometry=e,this._selectionAdorner){var o=this._selectionAdorner;o.ResetCache()}}},{key:"Source",get:function(){return this.source},set:function(t){if(this.source!=t){var e=this.source;this.source=t,this.OnSourceChanged(e)}}},{key:"EdittingPoint",get:function(){return this.edittingPoint},set:function(t){this.edittingPoint.X==t.X&&this.edittingPoint.Y==t.Y||(this.edittingPoint.X=t.X,this.edittingPoint.Y=t.Y)}},{key:"Target",get:function(){return this.target},set:function(t){if(this.target!=t){var e=this.target;this.target=t,this.OnTargetChanged(e)}}},{key:"SourceConnectorPosition",get:function(){return this.sourceConnectorPosition},set:function(t){if(this.sourceConnectorPosition!=t){var e=this.sourceConnectorPosition;this.sourceConnectorPosition=t,this.OnSourceConnectorPositionChanged(t,e)}}},{key:"SourceConnectorResult",get:function(){return this.sourceConnectorResult},set:function(t){this.sourceConnectorResult=t}},{key:"Bounds",get:function(){return O.CreateByTwoPoint(this.startPoint,this.endPoint)}},{key:"Position",get:function(){return this.position},set:function(t){this.position=t}},{key:"Geometry",get:function(){return this.geometry},set:function(t){this.geometry!=t&&(this.geometry=t,this._cachedPath=null)}},{key:"Title",get:function(){return this.title},set:function(t){this.title!=t&&(this.title=t)}},{key:"SelectionAdorner",get:function(){return!this._selectionAdorner&&this.Surface&&(this._selectionAdorner=new T(this.Surface.Adorners,this)),this._selectionAdorner}},{key:"TargetConnectorPosition",get:function(){return this.targetConnectorPosition},set:function(t){if(this.targetConnectorPosition!=t){var e=this.targetConnectorPosition;this.targetConnectorPosition=t,this.OnTargetConnectorPositionChanged(t,e)}}},{key:"TargetConnectorResult",get:function(){return this.targetConnectorResult},set:function(t){this.targetConnectorResult=t}},{key:"StartPoint",get:function(){return this.startPoint},set:function(t){}},{key:"EndPoint",get:function(){return this.endPoint},set:function(t){}}]),e}(l["a"])},"308d":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("7618");function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o(t,e){return!e||"object"!==Object(i["a"])(e)&&"function"!==typeof e?r(t):e}},3458:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n("7f7f");var i=n("d225"),r=n("b0b4"),o=n("978d"),s=function(){function t(){Object(i["a"])(this,t)}return Object(r["a"])(t,null,[{key:"IsCustom",value:function(t){return!1}},{key:"GetKnownOffset",value:function(e){var n=t.knownConnectors[e];if(n)return new o["a"](n[0],n[1]);throw new Error("Can not find known offset for: "+e)}}]),t}();s.Auto="Auto",s.Left="Left",s.Top="Top",s.Right="Right",s.Gliding="Gliding",s.Bottom="Bottom",s.knownConnectors={Auto:[.5,.5],Left:[0,.5],Right:[1,.5],Top:[.5,0],Bottom:[.5,1],Gliding:[.5,.5]}},"36bd":function(t,e,n){"use strict";var i=n("4bf8"),r=n("77f1"),o=n("9def");t.exports=function(t){var e=i(this),n=o(e.length),s=arguments.length,a=r(s>1?arguments[1]:void 0,n),h=s>2?arguments[2]:void 0,u=void 0===h?n:r(h,n);while(u>a)e[a++]=t;return e}},"37c8":function(t,e,n){e.f=n("2b4c")},"3a72":function(t,e,n){var i=n("7726"),r=n("8378"),o=n("2d00"),s=n("37c8"),a=n("86cc").f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},4910:function(t,e,n){n("1cb7"),t.exports=n("584a").Reflect.get},"4aa6":function(t,e,n){t.exports=n("dc62")},"4d16":function(t,e,n){t.exports=n("25b0")},"4e2b":function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n("4aa6"),r=n.n(i),o=n("4d16"),s=n.n(o);function a(t,e){return a=s.a||function(t,e){return t.__proto__=e,t},a(t,e)}function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=r()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}},"662f":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("d225"),r=n("b0b4"),o=n("308d"),s=n("6bb5"),a=n("4e2b"),h=n("fe0c"),u=n("a374"),c=n("1fb1"),l=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(o["a"])(this,Object(s["a"])(e).apply(this,arguments)),t.anchorSize=6,t.anchorLocation=c["a"].None,t}return Object(a["a"])(e,t),Object(r["a"])(e,[{key:"OnRender",value:function(t){t.strokeStyle="darkgray",t.lineWidth=2,t.strokeRect(-3,-3,this.Target.Bounds.Width+6,this.Target.Bounds.Height+6),this.DrawAnchor(t,this.LeftTop),this.DrawAnchor(t,this.LeftCenter),this.DrawAnchor(t,this.LeftBottom),this.DrawAnchor(t,this.RightTop),this.DrawAnchor(t,this.RightCenter),this.DrawAnchor(t,this.RightBottom),this.DrawAnchor(t,this.TopCenter),this.DrawAnchor(t,this.BottomCenter)}},{key:"DrawAnchor",value:function(t,e){t.fillStyle="white",t.fillRect(e.X,e.Y,e.Width,e.Height),t.strokeStyle="black",t.lineWidth=1,t.strokeRect(e.X,e.Y,e.Width,e.Height)}},{key:"HitTest",value:function(t){var e="";return this.LeftTop.Contains(t.X,t.Y)?(this.anchorLocation=c["a"].LeftTop,e="nw-resize"):this.LeftCenter.Contains(t.X,t.Y)?(this.anchorLocation=c["a"].LeftCenter,e="w-resize"):this.LeftBottom.Contains(t.X,t.Y)?(this.anchorLocation=c["a"].LeftBottom,e="sw-resize"):this.RightTop.Contains(t.X,t.Y)?(this.anchorLocation=c["a"].RightTop,e="ne-resize"):this.RightCenter.Contains(t.X,t.Y)?(this.anchorLocation=c["a"].RightCenter,e="e-resize"):this.RightBottom.Contains(t.X,t.Y)?(this.anchorLocation=c["a"].RightBottom,e="se-resize"):this.TopCenter.Contains(t.X,t.Y)?(this.anchorLocation=c["a"].TopCenter,e="n-resize"):this.BottomCenter.Contains(t.X,t.Y)?(this.anchorLocation=c["a"].BottomCenter,e="s-resize"):this.anchorLocation=c["a"].None,this.anchorLocation!=c["a"].None?[!0,e]:[!1,e]}},{key:"OnMouseMove",value:function(t){this.Target.Resize(this.anchorLocation,t.DeltaX,t.DeltaY)}},{key:"OnMouseUp",value:function(t){this.Target.OnEndResize()}},{key:"LeftTop",get:function(){return new u["a"](-this.anchorSize,-this.anchorSize,this.anchorSize,this.anchorSize)}},{key:"LeftCenter",get:function(){return new u["a"](-this.anchorSize,(this.Target.Bounds.Height-this.anchorSize)/2,this.anchorSize,this.anchorSize)}},{key:"LeftBottom",get:function(){return new u["a"](-this.anchorSize,this.Target.Bounds.Height,this.anchorSize,this.anchorSize)}},{key:"RightTop",get:function(){return new u["a"](this.Target.Bounds.Width,-this.anchorSize,this.anchorSize,this.anchorSize)}},{key:"RightCenter",get:function(){return new u["a"](this.Target.Bounds.Width,(this.Target.Bounds.Height-this.anchorSize)/2,this.anchorSize,this.anchorSize)}},{key:"RightBottom",get:function(){return new u["a"](this.Target.Bounds.Width,this.Target.Bounds.Height,this.anchorSize,this.anchorSize)}},{key:"TopCenter",get:function(){return new u["a"]((this.Target.Bounds.Width-this.anchorSize)/2,-this.anchorSize,this.anchorSize,this.anchorSize)}},{key:"BottomCenter",get:function(){return new u["a"]((this.Target.Bounds.Width-this.anchorSize)/2,this.Target.Bounds.Height,this.anchorSize,this.anchorSize)}}]),e}(h["a"])},"6bb5":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("061b"),r=n.n(i),o=n("4d16"),s=n.n(o);function a(t){return a=s.a?r.a:function(t){return t.__proto__||r()(t)},a(t)}},"6c7b":function(t,e,n){var i=n("5ca1");i(i.P,"Array",{fill:n("36bd")}),n("9c6c")("fill")},"6d4d":function(t,e,n){"use strict";var i=n("0991"),r=n.n(i);r.a},"7bbc":function(t,e,n){var i=n("6821"),r=n("9093").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return r(t)}catch(e){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?a(t):r(i(t))}},8500:function(t,e,n){"use strict";var i;(function(t){t[t["None"]=0]="None",t[t["CanMove"]=1]="CanMove",t[t["CanResize"]=2]="CanResize"})(i||(i={})),e["a"]=i},"8a81":function(t,e,n){"use strict";var i=n("7726"),r=n("69a8"),o=n("9e1e"),s=n("5ca1"),a=n("2aba"),h=n("67ab").KEY,u=n("79e5"),c=n("5537"),l=n("7f20"),f=n("ca5a"),d=n("2b4c"),v=n("37c8"),g=n("3a72"),y=n("d4c0"),S=n("1169"),p=n("cb7c"),m=n("d3f4"),C=n("4bf8"),b=n("6821"),P=n("6a99"),_=n("4630"),k=n("2aeb"),w=n("7bbc"),T=n("11e9"),O=n("2621"),I=n("86cc"),X=n("0d58"),Y=T.f,B=I.f,x=w.f,R=i.Symbol,A=i.JSON,N=A&&A.stringify,M="prototype",z=d("_hidden"),E=d("toPrimitive"),j={}.propertyIsEnumerable,H=c("symbol-registry"),D=c("symbols"),L=c("op-symbols"),W=Object[M],G="function"==typeof R&&!!O.f,F=i.QObject,U=!F||!F[M]||!F[M].findChild,$=o&&u((function(){return 7!=k(B({},"a",{get:function(){return B(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=Y(W,e);i&&delete W[e],B(t,e,n),i&&t!==W&&B(W,e,i)}:B,V=function(t){var e=D[t]=k(R[M]);return e._k=t,e},Z=G&&"symbol"==typeof R.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof R},J=function(t,e,n){return t===W&&J(L,e,n),p(t),e=P(e,!0),p(n),r(D,e)?(n.enumerable?(r(t,z)&&t[z][e]&&(t[z][e]=!1),n=k(n,{enumerable:_(0,!1)})):(r(t,z)||B(t,z,_(1,{})),t[z][e]=!0),$(t,e,n)):B(t,e,n)},q=function(t,e){p(t);var n,i=y(e=b(e)),r=0,o=i.length;while(o>r)J(t,n=i[r++],e[n]);return t},K=function(t,e){return void 0===e?k(t):q(k(t),e)},Q=function(t){var e=j.call(this,t=P(t,!0));return!(this===W&&r(D,t)&&!r(L,t))&&(!(e||!r(this,t)||!r(D,t)||r(this,z)&&this[z][t])||e)},tt=function(t,e){if(t=b(t),e=P(e,!0),t!==W||!r(D,e)||r(L,e)){var n=Y(t,e);return!n||!r(D,e)||r(t,z)&&t[z][e]||(n.enumerable=!0),n}},et=function(t){var e,n=x(b(t)),i=[],o=0;while(n.length>o)r(D,e=n[o++])||e==z||e==h||i.push(e);return i},nt=function(t){var e,n=t===W,i=x(n?L:b(t)),o=[],s=0;while(i.length>s)!r(D,e=i[s++])||n&&!r(W,e)||o.push(D[e]);return o};G||(R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===W&&e.call(L,n),r(this,z)&&r(this[z],t)&&(this[z][t]=!1),$(this,t,_(1,n))};return o&&U&&$(W,t,{configurable:!0,set:e}),V(t)},a(R[M],"toString",(function(){return this._k})),T.f=tt,I.f=J,n("9093").f=w.f=et,n("52a7").f=Q,O.f=nt,o&&!n("2d00")&&a(W,"propertyIsEnumerable",Q,!0),v.f=function(t){return V(d(t))}),s(s.G+s.W+s.F*!G,{Symbol:R});for(var it="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;it.length>rt;)d(it[rt++]);for(var ot=X(d.store),st=0;ot.length>st;)g(ot[st++]);s(s.S+s.F*!G,"Symbol",{for:function(t){return r(H,t+="")?H[t]:H[t]=R(t)},keyFor:function(t){if(!Z(t))throw TypeError(t+" is not a symbol!");for(var e in H)if(H[e]===t)return e},useSetter:function(){U=!0},useSimple:function(){U=!1}}),s(s.S+s.F*!G,"Object",{create:K,defineProperty:J,defineProperties:q,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:nt});var at=u((function(){O.f(1)}));s(s.S+s.F*at,"Object",{getOwnPropertySymbols:function(t){return O.f(C(t))}}),A&&s(s.S+s.F*(!G||u((function(){var t=R();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))}))),"JSON",{stringify:function(t){var e,n,i=[t],r=1;while(arguments.length>r)i.push(arguments[r++]);if(n=e=i[1],(m(e)||void 0!==t)&&!Z(t))return S(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Z(e))return e}),i[1]=e,N.apply(A,i)}}),R[M][E]||n("32e9")(R[M],E,R[M].valueOf),l(R,"Symbol"),l(Math,"Math",!0),l(i.JSON,"JSON",!0)},"8feb":function(t,e,n){t.exports=n("4910")},9427:function(t,e,n){var i=n("63b6");i(i.S,"Object",{create:n("a159")})},"978d":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("d225"),r=n("b0b4"),o=function(){function t(e,n){Object(i["a"])(this,t),this.X=e,this.Y=n}return Object(r["a"])(t,[{key:"toString",value:function(){return"{"+this.X+", "+this.Y+"}"}}],[{key:"Distance",value:function(t,e){return Math.sqrt(Math.pow(t.X-e.X,2)+Math.pow(t.Y-e.Y,2))}}]),t}()},a374:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("d225"),r=n("b0b4"),o=function(){function t(e,n,r,o){Object(i["a"])(this,t),this.X=e,this.Y=n,this.Width=r,this.Height=o}return Object(r["a"])(t,[{key:"Inflate",value:function(t,e){this.X-=t,this.Y-=e,this.Width+=2*t,this.Height+=2*e}},{key:"IntersectsWith",value:function(t){return!(this.X>=t.Right||this.Right<=t.X||this.Y>=t.Bottom||this.Bottom<=t.Y)}},{key:"Contains",value:function(t,e){return t>=this.X&&t<this.Right&&e>=this.Y&&e<this.Bottom}},{key:"Right",get:function(){return this.X+this.Width}},{key:"Bottom",get:function(){return this.Y+this.Height}}],[{key:"Union",value:function(e,n){var i=Math.min(e.X,n.X),r=Math.min(e.Y,n.Y),o=Math.max(e.Right,n.Right),s=Math.max(e.Bottom,n.Bottom);return new t(i,r,o-i,s-r)}}]),t}()},aa77:function(t,e,n){var i=n("5ca1"),r=n("be13"),o=n("79e5"),s=n("fdef"),a="["+s+"]",h="​",u=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),l=function(t,e,n){var r={},a=o((function(){return!!s[t]()||h[t]()!=h})),u=r[t]=a?e(f):s[t];n&&(r[n]=u),i(i.P+i.F*a,"String",r)},f=l.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(c,"")),t};t.exports=l},ac4d:function(t,e,n){n("3a72")("asyncIterator")},b7c5:function(t,e,n){"use strict";var i;(function(t){t[t["None"]=0]="None",t[t["X"]=1]="X",t[t["Y"]=2]="Y",t[t["Location"]=3]="Location",t[t["Width"]=4]="Width",t[t["Height"]=8]="Height",t[t["Size"]=12]="Size",t[t["All"]=15]="All"})(i||(i={})),e["a"]=i},bf90:function(t,e,n){var i=n("36c3"),r=n("bf0b").f;n("ce7e")("getOwnPropertyDescriptor",(function(){return function(t,e){return r(i(t),e)}}))},c34c:function(t,e,n){"use strict";var i,r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ex-splitter",{attrs:{size:300},on:{resize:t.onSplitterResize}},[n("div",{staticClass:"stage",style:{background:t.background},attrs:{slot:"panel1"},slot:"panel1"},[n("canvas",{ref:"surface",staticClass:"layer",staticStyle:{"z-index":"1"}}),n("canvas",{ref:"adorner",staticClass:"layer",staticStyle:{"z-index":"2"},on:{mousemove:function(e){return e.target!==e.currentTarget?null:t.onmousemove(e)},mousedown:function(e){return e.target!==e.currentTarget?null:t.onmousedown(e)},mouseup:function(e){return e.target!==e.currentTarget?null:t.onmouseup(e)}}})]),n("property-panel",{ref:"propertyPanel",attrs:{slot:"panel2"},slot:"panel2"})],1)},o=[],s=(n("ac4d"),n("8a81"),n("ac6a"),n("d225")),a=n("b0b4"),h=n("978d"),u=n("a374"),c=n("fe34"),l=n("2de8"),f=function(){function t(e){Object(s["a"])(this,t),this._moving=!1,this._surface=e,this._selectedItems=new Array}return Object(a["a"])(t,[{key:"SelectItem",value:function(t){if(null==t&&this._selectedItems.length>0)this._selectedItems.splice(0,this._selectedItems.length),this.OnSelectionChanged();else if(null!=t){if(1==this._selectedItems.length&&this._selectedItems[0]===t)return;this._selectedItems.splice(0,this._selectedItems.length),this._selectedItems.push(t),this.OnSelectionChanged()}}},{key:"SelectItems",value:function(t){var e=this;null==t&&this._selectedItems.length>0?(this._selectedItems.splice(0,this._selectedItems.length),this.OnSelectionChanged()):null!=t&&(this._selectedItems.splice(0,this._selectedItems.length),t.forEach((function(t){e._selectedItems.push(t)})),this.OnSelectionChanged())}},{key:"ClearSelection",value:function(){this.SelectItem(null),this._surface.ResetHoverItem()}},{key:"MoveSelection",value:function(t,e){if(this.SelectedItems.length>0){this._moving=!0;for(var n=0;n<this._selectedItems.length;n++){if(this._selectedItems[n]instanceof l["a"]){var i=this._selectedItems[n];if(i.IsTableCell){var r=i.Parent;r.MoveCellSelection(t,e);break}}this._selectedItems[n].Move(t,e)}}}},{key:"OnMouseUp",value:function(t){if(this._moving){this._moving=!1;for(var e=0;e<this._selectedItems.length;e++)this._selectedItems[e].OnEndMove()}}},{key:"OnSelectionChanged",value:function(){this._surface.Adorners.ClearSelected();for(var t=0;t<this._selectedItems.length;t++){var e=this._selectedItems[t].SelectionAdorner;e&&this._surface.Adorners.Add(e)}this._surface.Adorners.Invalidate(),this._selectedItems.length>0?this._surface.PropertyPanel.setPropertyOwner(this._selectedItems[0]):this._surface.PropertyPanel.setPropertyOwner(this._surface.DesignService.RootDesigner)}},{key:"SelectedItems",get:function(){return this._selectedItems}}]),t}(),d=(n("6c7b"),function(){function t(e,n){Object(s["a"])(this,t),this._creationMode=i.None,this._canvas=n,this._surface=e,this._adorners=new Array}return Object(a["a"])(t,[{key:"ClearSelected",value:function(){for(var t=this._adorners.length-1;t>=0;t--)this._adorners[t].IsSelectionAdorner&&this._adorners.splice(t,1)}},{key:"Add",value:function(t){for(var e=0;e<this._adorners.length;e++)if(this._adorners[e]===t)return;this._adorners.push(t)}},{key:"HitTest",value:function(t){for(var e,n=new h["a"](0,0),i=null,r="",o=0;o<this._adorners.length;o++){e=this._adorners[o],n.X=e.Target.Bounds.X,n.Y=e.Target.Bounds.Y,e.Target.Parent&&(n=e.Target.Parent.PointToSurface(n)),n.X=t.X-n.X,n.Y=t.Y-n.Y;var s=e.HitTest(n);!0===s[0]&&(i=e,r=s[1])}return this._hitTestItem=i,this._canvas.style.cursor=i?r:"default",null!=i}},{key:"Invalidate",value:function(){var t=this._canvas.getContext("2d");if(t.clearRect(0,0,this._canvas.width,this._canvas.height),this._creationMode!=i.None||0!=this._adorners.length){var e=new h["a"](0,0),n=!0,r=!1,o=void 0;try{for(var s,a=this._adorners[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var u=s.value;e=u.Target.PointToSurface(new h["a"](0,0)),t.translate(e.X,e.Y),u.OnRender(t),t.translate(-e.X,-e.Y)}}catch(v){r=!0,o=v}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}if(this._creationMode==i.Item){var c=Math.min(this._x1,this._x2),l=Math.min(this._y1,this._y2),f=Math.max(this._x1,this._x2),d=Math.max(this._y1,this._y2);t.lineWidth=1,t.strokeStyle="black",t.strokeRect(c,l,f-c,d-l)}else this._creationMode==i.Connection&&this.DrawShapeConnectors(t)}}},{key:"DrawShapeConnectors",value:function(t){if(this.nearestShapes)for(var e,n,i=0;i<this.nearestShapes.length;i++){e=this.nearestShapes[i];for(var r=4,o=0,s=0,a=0;a<e.Connectors.length;a++){n=e.Connectors[a],o=n.AbsolutePosition.X-r,s=n.AbsolutePosition.Y-r;var h=n===this.ActiveConnector?"red":"white";t.beginPath(),t.arc(o+r,s+r,r,0,360),t.fillStyle=h,t.fill(),t.lineWidth=1,t.strokeStyle="red",t.stroke()}}}},{key:"OnMouseUp",value:function(t){if(this._hitTestItem&&this._hitTestItem.OnMouseUp(t),this.nearestShapes=null,this.Invalidate(),this.ActiveConnector){var e=this._hitTestItem;if(null!=e)e.Target,e.ActiveEditPoint;this.ActiveConnector=null}}},{key:"BeginCreation",value:function(t,e,n){this._creationMode=n?i.Connection:i.Item,this._x1=this._x2=t,this._y1=this._y2=e}},{key:"UpdateCreationEndPoint",value:function(t,e){this._x2=t,this._y2=e,this.Invalidate()}},{key:"EndCreation",value:function(){this._creationMode=i.None}},{key:"UpdateNearestShapes",value:function(t){var e=null==this.nearestShapes?0:this.nearestShapes.length,n=null==t?0:t.length;this.nearestShapes=t,0==n&&(this.ActiveConnector=null),e!=n&&this.Invalidate()}},{key:"Canvas",get:function(){return this._canvas}},{key:"HitTestItem",get:function(){return this._hitTestItem}},{key:"CreationStartPoint",get:function(){return new h["a"](this._x1,this._y1)}},{key:"CreationEndPoint",get:function(){return new h["a"](this._x2,this._y2)}},{key:"CreationRectangle",get:function(){var t=Math.min(this._x1,this._x2),e=Math.min(this._y1,this._y2),n=Math.max(this._x1,this._x2),i=Math.max(this._y1,this._y2);return new u["a"](t,e,n-t,i-e)}}]),t}());(function(t){t[t["None"]=0]="None",t[t["Connection"]=1]="Connection",t[t["Item"]=2]="Item"})(i||(i={}));var v=n("2f49"),g=function(){function t(e){Object(s["a"])(this,t),this._surface=e}return Object(a["a"])(t,[{key:"BeginCreation",value:function(t,e){this._currentContainer=this._surface.GetContainerUnderMouse(t,e),this._surface.SelectionService.ClearSelection(),this._surface.Adorners.BeginCreation(t,e,this.SelectedItem.IsConnection),this._surface.Adorners.Canvas.style.cursor="crosshair"}},{key:"OnMouseMove",value:function(t,e){this._surface.Adorners.UpdateCreationEndPoint(t,e)}},{key:"EndCreation",value:function(t,e){if(this._surface.Adorners.EndCreation(),this._currentContainer){var n=this.SelectedItem.Create(this._currentContainer),i=this._currentContainer.PointToSurface(new h["a"](0,0));if(n instanceof v["a"]){var r=this._surface.Adorners.CreationStartPoint,o=this._surface.Adorners.CreationEndPoint;n.StartPoint=new h["a"](r.X-i.X,r.Y-i.Y),n.EndPoint=new h["a"](o.X-i.X,o.Y-i.Y)}else{var s=this._surface.Adorners.CreationRectangle;s.X-=i.X,s.Y-=i.Y,n.Bounds=s}this._currentContainer.AddItem(n),this._surface.SelectionService.SelectItem(n)}else{var a=this.SelectedItem.Create(this._surface);a instanceof v["a"]?(a.StartPoint=this._surface.Adorners.CreationStartPoint,a.EndPoint=this._surface.Adorners.CreationEndPoint):a.Bounds=this._surface.Adorners.CreationRectangle,this._surface.AddItem(a),this._surface.SelectionService.SelectItem(a)}this._surface.Adorners.Canvas.style.cursor="",this.Toolbox&&(this.Toolbox.SelectedItem=null)}},{key:"Toolbox",get:function(){return this._toolbox},set:function(t){this._toolbox=t}},{key:"SelectedItem",get:function(){return this.Toolbox?this.Toolbox.SelectedItem:null}}]),t}(),y=function(){function t(e,n,i,r){Object(s["a"])(this,t),this._ratio=i,this._canvas=e,this._propertyPanel=r,this.Adorners=new d(this,n),this.ToolboxService=new g(this),this.SelectionService=new f(this),this.ScaleCanvas(e,e.width,e.height,i),this.ScaleCanvas(n,n.width,n.height,i)}return Object(a["a"])(t,[{key:"ScaleCanvas",value:function(t,e,n,i){if(1!==i){t.width=e*i,t.height=n*i,t.style.width=e+"px",t.style.height=n+"px";var r=t.getContext("2d");r.scale(i,i)}}},{key:"OnResize",value:function(t,e){1!==this._ratio&&(this.ScaleCanvas(this._canvas,t,e,this._ratio),this.ScaleCanvas(this.Adorners.Canvas,t,e,this._ratio)),this.Invalidate()}},{key:"AddItem",value:function(t){this._items||(this._items=new Array),t.Surface=this,this._items.push(t),t.OnAddToSurface()}},{key:"RemoveItem",value:function(t){t.OnRemoveFromSurface(),t.Surface=null;var e=this._items.indexOf(t);this._items.splice(e,1)}},{key:"Invalidate",value:function(t){var e;e=t||new u["a"](0,0,this._canvas.width/this._ratio,this._canvas.height/this._ratio);var n=this._canvas.getContext("2d");if(n.clearRect(e.X,e.Y,e.Width,e.Height),this._items){var i=!0,r=!1,o=void 0;try{for(var s,a=this._items[Symbol.iterator]();!(i=(s=a.next()).done);i=!0){var h=s.value;if(h.Visible&&e.IntersectsWith(h.Bounds)){var c=h.Bounds.X,l=h.Bounds.Y;n.translate(c,l),h.Paint(n),n.translate(-c,-l)}}}catch(f){r=!0,o=f}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}}this.Adorners.Invalidate()}},{key:"OnMouseDown",value:function(t){this._hoverItem&&this._hoverItem.PreviewMouseDown(t)||null==this.Adorners.HitTestItem&&(t.Button==c["a"].Left&&this.ToolboxService.SelectedItem?this.ToolboxService.BeginCreation(t.X,t.Y):this.SelectionService.SelectItem(this._hoverItem))}},{key:"OnMouseMove",value:function(t){t.Button===c["a"].None&&this.Adorners.HitTest(new h["a"](t.X,t.Y))||(t.Button===c["a"].Left&&(this.Adorners.HitTestItem?this.Adorners.HitTestItem.OnMouseMove(t):this.ToolboxService.SelectedItem?this.ToolboxService.OnMouseMove(t.X,t.Y):this.SelectionService.MoveSelection(t.DeltaX,t.DeltaY)),this.FindHoverItemOnMouseMove(t))}},{key:"OnMouseUp",value:function(t){t.Button===c["a"].Left&&(this.ToolboxService.SelectedItem&&this.ToolboxService.EndCreation(t.X,t.Y),this.Adorners.OnMouseUp(t),this.SelectionService.OnMouseUp(t))}},{key:"FindHoverItemOnMouseMove",value:function(t){var e=this._canvas.getContext("2d");if(this._hoverItem){var n=this._hoverItem.PointToSurface(new h["a"](0,0)),i=t.X-n.X,r=t.Y-n.Y;if(this._hoverItem.HitTest(i,r,e))return void(this._hoverItem.IsContainer&&(this._hoverItem=this._hoverItem.FindHoverItem(new h["a"](i,r),e)))}this._hoverItem=this.GetItemUnderMouse(t.X,t.Y,e)}},{key:"GetItemUnderMouse",value:function(t,e,n){var i=null;if(this._items)for(var r=0;r<this._items.length;r++){var o=this._items[r],s=t-o.Bounds.X,a=e-o.Bounds.Y;o.Visible&&o.HitTest(s,a,n)&&(i=o,i.IsContainer&&(i=i.FindHoverItem(new h["a"](s,a),n)))}return i}},{key:"GetContainerUnderMouse",value:function(t,e){var n=this._canvas.getContext("2d"),i=this.GetItemUnderMouse(t,e,n);while(i){if(i.IsContainer)return i;i=i.Parent}return null}},{key:"ResetHoverItem",value:function(){this._hoverItem=null}},{key:"PropertyPanel",get:function(){return this._propertyPanel}},{key:"Items",get:function(){return this._items}},{key:"PixelRatio",get:function(){return this._ratio}}]),t}(),S=function t(e,n,i,r,o,a){Object(s["a"])(this,t),this.Button=e,this.Clicks=n,this.X=i,this.Y=r,this.DeltaX=o,this.DeltaY=a},p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ide-property-panel",staticStyle:{padding:"5px"}},[n("h4",{staticClass:"propertyPanel-title"},[t._v(t._s(t.ownerType))]),n("el-collapse",{staticClass:"ide-property-collapse",attrs:{value:t.expands}},t._l(t.catalogs,(function(e){return n("el-collapse-item",{key:e.name,attrs:{title:e.name,name:e.name}},[n("el-form",{attrs:{"label-position":"right",size:"mini","label-width":"120px"}},t._l(e.items,(function(t){return n("el-form-item",{key:t.title,attrs:{label:t.title+":"}},[n(t.editor,{ref:"editors",refInFor:!0,tag:"component",attrs:{target:t}})],1)})),1)],1)})),1)],1)},m=[],C=(n("7f7f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-input",{attrs:{readonly:t.target.readonly},on:{change:t.onChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})}),b=[],P={props:{target:{type:Object}},data:function(){return{value:""}},watch:{target:function(t){this.value=t.getter()}},methods:{onChange:function(){this.target.readonly||this.target.setter(this.value)},refresh:function(){this.$set(this,"value",this.target.getter())}},mounted:function(){this.value=this.target.getter()}},_=P,k=n("2877"),w=Object(k["a"])(_,C,b,!1,null,null,null),T=w.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-checkbox",{attrs:{readonly:t.target.readonly},on:{change:t.onChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})},I=[],X={props:{target:{type:Object}},data:function(){return{value:!1}},watch:{target:function(t){this.value=t.getter()}},methods:{onChange:function(){this.target.readonly||this.target.setter(this.value)},refresh:function(){this.$set(this,"value",this.target.getter())}},mounted:function(){this.value=this.target.getter()}},Y=X,B=Object(k["a"])(Y,O,I,!1,null,null,null),x=B.exports,R={TextBox:T,CheckBox:x};function A(t){return R[t]}var N={data:function(){return{ownerType:"",expands:[],catalogs:[]}},methods:{setPropertyOwner:function(t){this.ownerType=t.getPropertyOwnerType();var e=t.getPropertyItems();if(e){this.expands.splice(0,this.expands.length);var n=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value;this.expands.push(a.name);var h=!0,u=!1,c=void 0;try{for(var l,f=a.items[Symbol.iterator]();!(h=(l=f.next()).done);h=!0){var d=l.value;d.editor=A(d.editorType)}}catch(v){u=!0,c=v}finally{try{h||null==f.return||f.return()}finally{if(u)throw c}}}}catch(v){i=!0,r=v}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}this.catalogs=e}else this.catalogs=[]},refreshProperty:function(t){var e=!0,n=!1,i=void 0;try{for(var r,o=this.$refs.editors[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;if(s.target.title===t)return void s.refresh()}}catch(a){n=!0,i=a}finally{try{e||null==o.return||o.return()}finally{if(n)throw i}}console.warn("Can't find Property: "+t)}}},M=N,z=(n("6d4d"),Object(k["a"])(M,p,m,!1,null,"069d1d1b",null)),E=z.exports,j={components:{PropertyPanel:E},props:{background:{type:String,default:"white"}},data:function(){return{designSurface:null,pixelRatio:1}},methods:{onmousemove:function(t){var e=t.movementX,n=t.movementY;if(0!==e||0!==n){var i=new S(t.buttons,0,t.layerX,t.layerY,e,n);this.designSurface.OnMouseMove(i)}},onmousedown:function(t){var e=new S(t.buttons,0,t.layerX,t.layerY,0,0);this.designSurface.OnMouseDown(e)},onmouseup:function(t){var e=0;0===t.button&&(e=1);var n=new S(e,0,t.layerX,t.layerY,0,0);this.designSurface.OnMouseUp(n)},onSplitterResize:function(t){var e=this.$children[0].panel1Size,n=this.$children[0].height;this.$refs.surface.width=this.$refs.adorner.width=e,this.$refs.surface.height=this.$refs.adorner.height=n,this.designSurface?this.designSurface.OnResize(t,n):(this.designSurface=new y(this.$refs.surface,this.$refs.adorner,this.pixelRatio,this.$refs.propertyPanel),this.$emit("ready"))}},mounted:function(){this.pixelRatio=window.devicePixelRatio||1}},H=j,D=(n("1160"),Object(k["a"])(H,r,o,!1,null,"1956b996",null));e["a"]=D.exports},c5f6:function(t,e,n){"use strict";var i=n("7726"),r=n("69a8"),o=n("2d95"),s=n("5dbc"),a=n("6a99"),h=n("79e5"),u=n("9093").f,c=n("11e9").f,l=n("86cc").f,f=n("aa77").trim,d="Number",v=i[d],g=v,y=v.prototype,S=o(n("2aeb")(y))==d,p="trim"in String.prototype,m=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){e=p?e.trim():f(e,3);var n,i,r,o=e.charCodeAt(0);if(43===o||45===o){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var s,h=e.slice(2),u=0,c=h.length;u<c;u++)if(s=h.charCodeAt(u),s<48||s>r)return NaN;return parseInt(h,i)}}return+e};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof v&&(S?h((function(){y.valueOf.call(n)})):o(n)!=d)?s(new g(m(e)),n,v):m(e)};for(var C,b=n("9e1e")?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),P=0;b.length>P;P++)r(g,C=b[P])&&!r(v,C)&&l(v,C,c(g,C));v.prototype=y,y.constructor=v,n("2aba")(i,d,v)}},ce7e:function(t,e,n){var i=n("63b6"),r=n("584a"),o=n("294c");t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],s={};s[t]=e(n),i(i.S+i.F*o((function(){n(1)})),"Object",s)}},d4c0:function(t,e,n){var i=n("0d58"),r=n("2621"),o=n("52a7");t.exports=function(t){var e=i(t),n=r.f;if(n){var s,a=n(t),h=o.f,u=0;while(a.length>u)h.call(t,s=a[u++])&&e.push(s)}return e}},dc62:function(t,e,n){n("9427");var i=n("584a").Object;t.exports=function(t,e){return i.create(t,e)}},e0ee:function(t,e,n){},ead6:function(t,e,n){var i=n("f772"),r=n("e4ae"),o=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n("d864")(Function.call,n("bf0b").f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:o}},fa99:function(t,e,n){n("0293"),t.exports=n("584a").Object.getPrototypeOf},fde4:function(t,e,n){n("bf90");var i=n("584a").Object;t.exports=function(t,e){return i.getOwnPropertyDescriptor(t,e)}},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},fe0c:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("d225"),r=n("b0b4"),o=function(){function t(e,n){Object(i["a"])(this,t),this.Owner=e,this.Target=n}return Object(r["a"])(t,[{key:"HitTest",value:function(t){return[!1,""]}},{key:"OnRender",value:function(t){}},{key:"OnMouseMove",value:function(t){}},{key:"OnMouseUp",value:function(t){}},{key:"IsSelectionAdorner",get:function(){return!0}}]),t}()},fe34:function(t,e,n){"use strict";var i;(function(t){t[t["None"]=0]="None",t[t["Left"]=1]="Left",t[t["Right"]=2]="Right",t[t["Middle"]=4]="Middle"})(i||(i={})),e["a"]=i},ffb8:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n("ac4d"),n("8a81"),n("ac6a"),n("6b54");var i=n("d225"),r=n("b0b4"),o=n("308d"),s=n("6bb5"),a=n("4e2b"),h=n("1771"),u=n("b7c5"),c=function(t){function e(t){var n;return Object(i["a"])(this,e),n=Object(o["a"])(this,Object(s["a"])(e).call(this)),n.xmlNode=t,n}return Object(a["a"])(e,t),Object(r["a"])(e,[{key:"OnAddToSurface",value:function(){var t="pt";this.SetPropertyRSize("Left",this.Bounds.X.toString()+t,!0),this.SetPropertyRSize("Top",this.Bounds.Y.toString()+t,!0),this.SetPropertyRSize("Width",this.Bounds.Width.toString()+t,!0),this.SetPropertyRSize("Height",this.Bounds.Height.toString()+t,!0)}},{key:"GetPropertyRSize",value:function(t,e){var n=this.GetNamedChildNode(t);return n?n.textContent:e}},{key:"SetPropertyRSize",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.GetNamedChildNode(t);if(i||(i=this.xmlNode.appendChild(this.xmlNode.ownerDocument.createElement(t))),"number"===typeof e){var r=this.GetSizeUnit(i),o=this.PixelToSize(e,r);i.textContent=o}else if(i.textContent=e,!n){var s=this.SizeToPixel(e);switch(t){case"Height":this.SetBounds(0,0,0,s,u["a"].Height);break;case"Width":this.SetBounds(0,0,s,0,u["a"].Width);break;case"Left":this.SetBounds(s,0,0,0,u["a"].X);break;case"Top":this.SetBounds(0,s,0,0,u["a"].Y);break}}}},{key:"GetPropertyBool",value:function(t,e){var n=this.GetNamedChildNode(t);return n?"true"===n.textContent:e}},{key:"SetPropertyBool",value:function(t,e){var n=this.GetNamedChildNode(t);n||(n=this.xmlNode.appendChild(this.xmlNode.ownerDocument.createElement(t))),n.textContent=e.toString()}},{key:"GetPropertyString",value:function(t,e){var n=this.GetNamedChildNode(t);return n?n.textContent:e}},{key:"SetPropertyString",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.GetNamedChildNode(t);i||(i=this.xmlNode.appendChild(this.xmlNode.ownerDocument.createElement(t))),i.textContent=e,n&&this.Invalidate()}},{key:"getPropertyOwnerType",value:function(){return this.xmlNode.nodeName}},{key:"GetNamedChildNode",value:function(t){if(!this.xmlNode)return null;var e=!0,n=!1,i=void 0;try{for(var r,o=this.xmlNode.childNodes[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;if(s.nodeType===Node.ELEMENT_NODE&&s.nodeName===t)return s}}catch(a){n=!0,i=a}finally{try{e||null==o.return||o.return()}finally{if(n)throw i}}return null}},{key:"TryGetSize",value:function(t,e){var n=this.GetNamedChildNode(t);return n?this.GetSize(n):e}},{key:"GetSize",value:function(t){return this.SizeToPixel(t.textContent)}},{key:"GetSizeUnit",value:function(t){var e="mm",n=t.textContent;if(!n||0===n.length||"="===n[0])return e;n=n.trim();var i=n.lastIndexOf(" ");try{-1!=i?e=n.substring(i).trim():n.length>=3&&(e=n.substring(n.length-2))}catch(r){console.log("GetSizeUnit from ["+n+"] error.")}return e}},{key:"SizeToPixel",value:function(t){if(!t||0===t.length||"="===t[0])return 0;t=t.trim();var n,i,r=t.lastIndexOf(" "),o="",s="in";try{if(-1!=r)o=t.substring(0,r).trim(),s=t.substring(r).trim();else{if(!(t.length>=3))return 0;o=t.substring(0,t.length-2),s=t.substring(t.length-2)}n=parseFloat(o)}catch(a){return console.log("GetSize from ["+t+"] error."),0}switch(s){case"in":i=2540*n;break;case"cm":i=1e3*n;break;case"mm":i=100*n;break;case"pt":i=2540*n/e.POINTSIZE;break;case"pc":i=n*(2540/(12*e.POINTSIZE));break;default:i=2540*n;break}return Math.round(i/2540*e.POINTSIZE)}},{key:"PixelToSize",value:function(t,n){var i=t/e.POINTSIZE;switch(n){case"cm":return(2.54*i).toString()+"cm";case"mm":return(25.4*i).toString()+"mm";case"pt":return(i*e.POINTSIZE).toString()+"pt";case"pc":return(i*e.POINTSIZE*12).toString()+"pc";default:return i.toString()+"in"}}},{key:"XmlNode",get:function(){return this.xmlNode}}]),e}(h["a"]);c.POINTSIZE=72.27}}]);